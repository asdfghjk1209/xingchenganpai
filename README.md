# 📚 行程安排指南 - 使用说明

欢迎使用您的私人定制行程规划工具！本应用旨在提供极致流畅的移动端体验和强大的行程管理能力。

## 一、核心功能概览

| **功能模块**    | **描述**                                               | **关键操作**                               |
| --------------- | ------------------------------------------------------ | ------------------------------------------ |
| **日程编辑**    | 添加、删除、修改活动，调整时间、地点、描述和交通备注。 | 点击屏幕下方 **[编辑]** 按钮。             |
| **地图导航**    | 自动解析地点并在高德地图上连线，点击列表可聚焦地图。   | 切换到 **[地图]** 模式，点击下方地点列表。 |
| **长图导出**    | 将所有行程（多天自动展开）生成一张高清长图。           | **[设置]** -> **[生成行程长图]**。         |
| **单日共享**    | 快速导出某一天行程，用于导入到其他方案中。             | 日期下方 **[分享当天]** 按钮。             |
| **数据导入/出** | 完整的方案备份和导入功能，支持文件上传。               | **[设置]** -> **[备份/导入]**。            |

## 二、编辑与管理

### 1. 方案/日程操作

| **目标**         | **操作步骤**                                                 |
| ---------------- | ------------------------------------------------------------ |
| **切换方案**     | 点击顶部方案名称（如 **[🔥 L: J人震撼攻略]**） -> 选择列表中的其他方案。 |
| **修改方案名称** | 点击屏幕下方 **[编辑]** -> 直接修改顶部的方案名称。          |
| **增/删日期**    | 点击屏幕下方 **[编辑]** -> 在日期选择器旁边会出现 **[+]** (增加) 和 **[🗑️]** (删除) 按钮。 |
| **修改出发日期** | 点击日期显示（如 **[10月23日 周一]**） -> 设置新的起始日期，后续日期自动顺延。 |

### 2. 活动编辑（进入 [编辑] 模式后）

| **字段**             | **对应输入框**               | **说明**                                                     |
| -------------------- | ---------------------------- | ------------------------------------------------------------ |
| **时间**             | 小时/分钟数字框              | 点击时间可以直接弹出时间选择器修改。                         |
| **地点 (Location)**  | 地点名称输入框               | 用于地图搜索和标记，如果地址无法识别，地图会发出警告。       |
| **交通备注 (trans)** | 路线图示 **[↓↑]** 旁的输入框 | 可在此备注“🚶 步行/打车返程”、“🚇 地铁”等，用于行程记录和导出。 |
| **暂定/跳过地图**    | 勾选 **[暂定]** 框           | 勾选后，该地点会从地图连线中跳过。                           |
| **图片**             | **[添加]** 按钮              | 为活动添加图片素材。                                         |

## 三、导入与导出 (数据分享/备份)

本应用支持导入 **完整方案** (Full Plan)、**完整备份** (All Data) 和 **单日行程** (Single Day)。

### 1. 导出数据

| **按钮**                | **导出内容**                              | **用途**                                                     |
| ----------------------- | ----------------------------------------- | ------------------------------------------------------------ |
| **分享当天** (在日期旁) | 仅导出当前选择的日期（Day X）的活动列表。 | **【重要】** 用于分享给朋友，让他们导入到自己的某个方案的某一日期中。 |
| **分享当前方案 (全部)** | 导出当前方案的所有天数。                  | 备份单个行程，或作为新方案导入。                             |
| **备份所有数据**        | 导出本地存储的所有方案。                  | **【推荐】** 换手机、清空缓存或迁移时的保险。                |

> **提示：** 导出时，推荐使用 **[保存为 JSON 文件]**，特别是在手机端，可以避免复制大段文本时出现截断问题。

### 2. 导入数据

点击 **[设置]** -> **[导入方案 / 恢复备份]**，有两种方式导入：

| **导入方式**       | **推荐场景**                                                 |
| ------------------ | ------------------------------------------------------------ |
| **上传 JSON 文件** | **强烈推荐手机用户使用**。将朋友分享的 `.json` 文件或自己的备份文件直接上传。 |
| **粘贴文本**       | 适合电脑端用户或复制的内容较短时使用。                       |

### 3. 单日行程导入特殊处理

当您导入朋友分享的 **单日行程** 数据时，系统会自动弹出 **[导入单日行程]** 菜单：

| **选项**           | **效果**                                                 |
| ------------------ | -------------------------------------------------------- |
| **追加到现有日期** | 将导入的活动列表，追加到您当前方案中选定的某一天的末尾。 |
| **创建为新方案**   | 将导入的单日行程包装成一个独立的、新的方案保存。         |

## 四、问题排查

| **问题**              | **可能原因**                                               | **解决办法**                                                 |
| --------------------- | ---------------------------------------------------------- | ------------------------------------------------------------ |
| **无法定位/地图为空** | 1. 地点名称过于模糊 (如“午餐”)。 2. 高德地图未识别该地址。 | 1. 在编辑模式下，修改地点名称为具体的地址或地名。2. 地图下方列表会红色标记无法识别的地点，请修改该地点的地址。 |
| **无法删除方案**      | 您只剩下一个方案。                                         | 至少需要保留一个方案。                                       |
| **网页出现白屏**      | 导入的数据格式不正确。                                     | 清空浏览器缓存，或点击 **[设置]** -> **[重置所有数据]** 恢复默认方案。再次导入时，请确保数据完整且结构正确。 |
| **[编辑] 按钮不固定** | 可能是浏览器或旧代码缓存。                                 | 确保您的浏览器已刷新到最新版本，该按钮在手机端已固定到底部。 |
